import{p as u,r as l,y as o,j as e,q as m,s as x,t as p}from"./index-Bs7UgrqY.js";import{u as j,c as f,a as n}from"./index.esm-DDU5YsZS.js";import{h as i}from"./handleClasses-YxdXdz7d.js";const g=()=>{const[d,{isSuccess:r}]=u(),s=j({enableReinitialize:!0,initialValues:{address:"",city:"",education:"",degree:"",gender:""},validationSchema:f({address:n().required("Enter address"),city:n().required("Enter city"),education:n().required("Enter education"),degree:n().required("Enter degree"),gender:n().required("Enter gender")}),onSubmit:(a,{resetForm:h})=>{const t=new FormData;for(const c in a)t.append(c,a[c]);d(t),h()}});return l.useEffect(()=>{r&&o.success("info register success")},[r]),e.jsx("form",{onSubmit:s.handleSubmit,children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-sm-6 offset-3",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header text-center",children:"Doctor Info"}),e.jsxs("div",{className:"card-body",children:[e.jsx("textarea",{className:i(s,"address"),...s.getFieldProps("address"),placeholder:"enter address"}),e.jsx("span",{className:"invalid-feedback",children:s.errors.address}),e.jsx("input",{className:i(s,"city"),...s.getFieldProps("city"),type:"text",placeholder:"enter city"}),e.jsx("span",{className:"invalid-feedback",children:s.errors.city}),e.jsx("input",{className:i(s,"education"),...s.getFieldProps("education"),type:"text",placeholder:"enter education"}),e.jsx("span",{className:"invalid-feedback",children:s.errors.education}),e.jsx("input",{className:i(s,"degree"),onChange:a=>s.setFieldValue("degree",a.target.files[0]),type:"file",placeholder:"enter degree"}),e.jsx("span",{className:"invalid-feedback",children:s.errors.degree}),e.jsxs("div",{children:[e.jsx("input",{...s.getFieldProps("gender"),value:"male",id:"male",type:"radio",className:` ms-2 form-check-input ${s.touched.gender&&s.errors.gender&&"is-invalid"}`,name:"gender"}),e.jsx("label",{htmlFor:"male",children:"male"}),e.jsx("input",{...s.getFieldProps("gender"),value:"female",id:"female",type:"radio",className:` ms-2 form-check-input ${s.touched.gender&&s.errors.gender&&"is-invalid"}`,name:"gender"}),e.jsx("label",{htmlFor:"female",children:"female"}),e.jsx("span",{className:"invalid-feedback",children:s.errors.gender})]}),e.jsx("button",{className:"btn btn-primary w-100 mt-5",type:"submit",children:"update info"})]})]})})})})})},b=()=>{const[d,{isSuccess:r}]=m(),{data:s,isSuccess:a,isLoading:h}=x();return l.useEffect(()=>{a&&o.success("doctor fetch success")},[a]),l.useEffect(()=>{r&&o.success("doctor update status success")},[r]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"container mt-5",children:s&&e.jsxs("table",{className:"table table-bordered table-striped table-hover",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"day"}),e.jsx("th",{children:"reason"}),e.jsx("th",{children:"timeSlot"}),e.jsx("th",{children:"status"}),e.jsx("th",{children:"patient name"}),e.jsx("th",{children:"patient Mobile"}),e.jsx("th",{children:"patient Email"}),e.jsx("th",{children:"status update"})]})}),e.jsx("tbody",{children:s&&s.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:t.day}),e.jsx("td",{children:t.reason}),e.jsx("td",{children:t.timeSlot}),e.jsx("td",{children:t.status}),e.jsx("td",{children:t.patientId.name}),e.jsx("td",{children:t.patientId.mobile}),e.jsx("td",{children:t.patientId.email}),e.jsx("td",{children:e.jsxs("select",{onChange:c=>d({status:c.target.value,_id:t._id}),className:"form-control",children:[e.jsx("option",{value:"",children:"change status"}),e.jsx("option",{value:"accept",children:"accept"}),e.jsx("option",{value:"reject",children:"reject"})]})})]},t.id))})]})})})},S=()=>{const{doctor:d}=p(r=>r.auth);return e.jsx(e.Fragment,{children:d.infoComplete?e.jsx(b,{}):e.jsx(g,{})})};export{S as default};

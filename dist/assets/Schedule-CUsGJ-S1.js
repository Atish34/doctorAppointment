import{r as c,t as S,z as b,A as p,B as f,C as v,y as n,j as e}from"./index-Bs7UgrqY.js";import{u as N,c as T,a as i}from"./index.esm-DDU5YsZS.js";const g=()=>{const[t,a]=c.useState(null),{doctorId:r}=S(s=>s.auth.doctor),{data:o}=b(r),[x,{isSuccess:u}]=p(),[j,{isSuccess:h}]=f(),[y,{isSuccess:m}]=v(),d=N({enableReinitialize:!0,initialValues:t||{day:"",startTime:"",endTime:""},validationSchema:T({day:i().required("Enter day"),startTime:i().required("Enter start time"),endTime:i().required("Enter end time")}),onSubmit:(s,{resetForm:l})=>{t?(j({_id:t._id,...s}),a(null)):x({doctorId:r,...s}),l()}});return c.useEffect(()=>{u&&n.success("Schedule added successfully!")},[u]),c.useEffect(()=>{h&&n.success("Schedule updated successfully!")},[h]),c.useEffect(()=>{m&&n.success("Schedule deleted successfully!")},[m]),e.jsx("div",{className:"container mt-4",children:e.jsx("div",{className:"row justify-content-center",children:e.jsxs("div",{className:"col-md-8",children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:"Manage Your Schedule"}),e.jsx("div",{className:"card-body",children:e.jsxs("form",{onSubmit:d.handleSubmit,children:[e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-3",children:e.jsxs("select",{className:"form-control",...d.getFieldProps("day"),children:[e.jsx("option",{value:"",children:"Select Day"}),e.jsx("option",{value:"Monday",children:"Monday"}),e.jsx("option",{value:"Tuesday",children:"Tuesday"}),e.jsx("option",{value:"Wednesday",children:"Wednesday"}),e.jsx("option",{value:"Thursday",children:"Thursday"}),e.jsx("option",{value:"Friday",children:"Friday"}),e.jsx("option",{value:"Saturday",children:"Saturday"}),e.jsx("option",{value:"Sunday",children:"Sunday"})]})}),e.jsx("div",{className:"col-md-3",children:e.jsx("input",{type:"time",className:"form-control",...d.getFieldProps("startTime")})}),e.jsx("div",{className:"col-md-3",children:e.jsx("input",{type:"time",className:"form-control",...d.getFieldProps("endTime")})})]}),e.jsx("button",{type:"submit",className:t?"btn btn-info":"btn btn-success",children:t?"Update Schedule":"Save Schedule"}),t&&e.jsx("button",{type:"button",className:"btn btn-secondary ms-2",onClick:()=>a(null),children:"Cancel"})]})})]}),e.jsx("div",{className:"container mt-5",children:o&&e.jsxs("table",{className:"table table-bordered table-striped table-hover",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Day"}),e.jsx("th",{children:"Start Time"}),e.jsx("th",{children:"End Time"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:o.result.map(s=>e.jsxs("tr",{children:[e.jsx("td",{children:s.day}),e.jsx("td",{children:s.startTime}),e.jsx("td",{children:s.endTime}),e.jsxs("td",{children:[e.jsx("button",{onClick:l=>a(s),className:"btn btn-sm btn-warning ",children:"edit"}),e.jsx("button",{onClick:l=>y(s._id),className:"btn btn-sm btn-danger ",children:"delete"})]})]},s._id))})]})})]})})})};export{g as default};
